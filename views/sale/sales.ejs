<body class="antialiased font-sans bg-gray-200">
    <div class="container mx-auto px-4 sm:px-8">
        <div class="py-8">
            <div>
                <h2 class="text-2xl font-semibold leading-tight">LISTA DE VENTAS</h2>
            </div>

            <div class=" sm:flex sm:justify-center ">
                <div class="mt-3 sm:mt-0 sm:ml-3">
                    <a href="/sale/add"
                        class=" w-full flex items-center justify-center px-4 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-green-500 hover:bg-green-400 md:py-4 md:text-md md:px-10 hover:no-underline">
                        Generar Nueva Venta
                    </a>
                </div>
            </div>

            <div class="-mx-4 sm:-mx-40 px-4 sm:px-8 py-4 overflow-x-auto">
                <div class="inline-block min-w-full shadow rounded-lg overflow-hidden">
                    <table class="min-w-full leading-normal">
                        <thead>
                            <tr>
                                <th
                                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                    Fecha de Venta
                                </th>
                                <th
                                    class="px-4 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                    Cedula de Cliente
                                </th>
                                <th
                                    class="px-4 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                    Empleado Encargado
                                </th>
                                <th
                                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                    Producto
                                </th>
                                <th
                                    class=" py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                    Cantidad Vendida
                                </th>
                                <th
                                    class="px-4 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                    Total $USD
                                </th>
                                <th
                                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                    Acción
                                </th>
                                <th
                                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                    Acción
                                </th>
                            </tr>
                        </thead>
                        <tbody>


                            <% sales.forEach(function (sale) { %>
                            <tr>
                                <td class="px-5 py-3 border-b border-gray-200 bg-white text-sm">
                                    <div class="flex items-center">
                                        <p class="text-gray-900 whitespace-no-wrap">
                                            <%= sale.date%>
                                        </p>
                                    </div>
                                </td>
                                <td class="px-5 py-3 border-b border-gray-200 bg-white text-sm">
                                    <div class="flex items-center">
                                        <p class="text-gray-900 whitespace-no-wrap">
                                            <%= sale.client_ruc%>
                                        </p>
                                    </div>
                                </td>
                                <td class="px-5 py-3 border-b border-gray-200 bg-white text-sm">
                                    <div class="flex items-center">
                                        <p class="text-gray-900 whitespace-no-wrap">
                                            <%= sale.employee_username%>
                                        </p>
                                    </div>
                                </td>
                                <td class="px-5 py-3 border-b border-gray-200 bg-white text-sm">
                                    <div class="flex items-center">
                                        <p class="text-gray-900 whitespace-no-wrap">
                                            <%= sale.product_name%>
                                        </p>
                                    </div>
                                </td>
                                <td class="px-5 py-3 border-b border-gray-200 bg-white text-sm">
                                    <div class="flex items-center">
                                        <p class="text-gray-900 whitespace-no-wrap">
                                            <%= sale.quantity%>
                                        </p>
                                    </div>
                                </td>
                                <td class="px-5 py-3 border-b border-gray-200 bg-white text-sm">
                                    <div class="flex items-center">
                                        <% products.forEach(function (product) { %>
                                        <% if(sale.product_name == product.name){ %>
                                        <h1><%= sale.quantity * product.price %></h1>
                                        <% }; %>
                                        <% }); %>
                                    </div>
                                </td>
                                <td class="px-4 py-3 border-b border-gray-200 bg-white text-sm">
                                    <div class="flex items-center">
                                        <a class="bg-blue-600 text-white font-bold px-4 py-2 border rounded-md hover:bg-blue-500 hover:no-underline hover:text-white"
                                            href="/sale/edit/<%=sale.id%>">Editar</a>
                                    </div>
                                </td>
                                <td class="px-4 py-3 border-b border-gray-200 bg-white text-sm">
                                    <div class="flex items-center">
                                        <a class="hover:no-underline hover:text-white bg-red-600 text-white font-bold px-4 py-2 border rounded-md hover:bg-red-500"
                                            href="/sale/delete/<%=sale.id%>">Eliminar</a>
                                    </div>
                                </td>
                            </tr>
                            <% }); %>
                        </tbody>
                    </table>
                    <div class=" sm:flex sm:justify-center ">
                        <% if (sales.length <= 0) { %>
                        <h1 class="p-4 text-2xl">No Existen Ventas</h1>
                        <% } %>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class=" sm:flex sm:justify-center ">
        <div class="mt-3 sm:mt-0 sm:ml-3">
            <a href="/"
                class=" w-full flex items-center justify-center px-4 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-orange-600 hover:bg-orange-500 md:py-4 md:text-md md:px-10 hover:no-underline">
                Regresar al Menú
            </a>
        </div>
    </div>
</body>